{"version":3,"sources":["components/Display.js","components/AddItems.js","services/book.js","components/DisplaySuccess.js","components/ErrorDisplay.js","App.js","index.js"],"names":["Display","name","number","deleteHandler","onClick","AddItems","newName","handleNameChange","newNumber","handleNumberChange","addName","value","onChange","type","baseUrl","axios","get","then","response","data","object","post","id","console","log","delete","put","Success","message","style","ErrorDisplay","App","useState","persons","setPersons","setNewName","setNewNumber","newSearch","setNewSearch","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personsService","getIdByName","filter","person","personsToShow","toLowerCase","includes","event","target","preventDefault","length","concat","setTimeout","catch","error","window","confirm","personObject","map","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.954360be.chunk.js","sourcesContent":["import React from 'react'\n\nconst Display = ({name, number, deleteHandler}) => {\n\treturn(\n\t\t<div>\n\t\t\t<p><b>{name}:</b> {number}</p>\n\t\t\t<button onClick={deleteHandler}>Delete</button>\n\t\t</div>\n\t)\n}\n\nexport default Display","import React from 'react'\n\nconst AddItems = ({newName, handleNameChange, newNumber, handleNumberChange, addName}) => {\n\treturn (\n\t\t<div>\n\t\t\t<form>\n\t\t\tName: <input value={newName} onChange={handleNameChange} />\n\t\t\t<br />\n\t\t\t<br />\n\t\t\tNumber: <input value={newNumber} onChange={handleNumberChange} />\n\t\t\t<br />\n\t\t\t<button type=\"submit\" onClick={addName}>add</button>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default AddItems","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = (object) => {\n\tconst request = axios.post(baseUrl, object)\n\treturn request.then(response => response.data)\n}\n\nconst remove = (id) => {\n\tconsole.log(\"Reached remove with: \", id)\n\tconst request = axios.delete(baseUrl + '/' + id)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, object) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, object)\n\treturn request.then(response => response.data)\n}\n\nexport default {\n\tgetAll,\n\tcreate,\n\tremove,\n\tupdate\n}","import React from 'react'\n\nconst Success = ({message}) => {\n\tconst SucessStyle = {\n\t\t'color': 'green',\n\t\t'background': 'lightgrey',\n\t\t'fontSize': 20,\n\t\t'borderStyle': 'solid',\n\t\t'borderRadius': 5,\n\t\t'padding': 10,\n\t\t'marginBottom': 10\n\t}\n\n\tif (message === null){\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={SucessStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n\n}\n\nexport default Success","import React from 'react'\n\nconst ErrorDisplay = ({message}) => {\n\tconst SucessStyle = {\n\t\t'color': 'red',\n\t\t'background': 'lightgrey',\n\t\t'fontSize': 20,\n\t\t'borderStyle': 'solid',\n\t\t'borderRadius': 5,\n\t\t'padding': 10,\n\t\t'marginBottom': 10\n\t}\n\n\tif (message === null){\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={SucessStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n\n}\n\nexport default ErrorDisplay","import React, { useState, useEffect } from 'react'\nimport Display from './components/Display.js'\nimport AddItems from './components/AddItems.js'\nimport personsService from './services/book'\nimport Success from './components/DisplaySuccess'\nimport ErrorDisplay from './components/ErrorDisplay' \n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const hook = () => {\n    personsService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    if(persons.filter(person => person.name === newName).length === 0){\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personsService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setSuccessMessage(`${newName} was added sucessfully!`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          setErrorMessage(error.response.data['Error'])\n          setTimeout(() => {setErrorMessage(null)}, 5000)\n        })\n  }\n    else{\n      const result = window.confirm(`${newName} is already in the phonebook! Update the number?`)\n      if(result === true){\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n        const id = getIdByName(newName)\n        personsService\n          .update(id, personObject)\n          .then(response => {\n            console.log(response)})\n          .catch(error => {\n            setErrorMessage(\n              `The person '${newName}' has been deleted from the server!`)\n            setTimeout(() => {\n             setErrorMessage(null)\n             }, 5000)\n            return\n          })\n        personsService\n          .getAll()\n          .then(persons => {\n            setPersons(persons)\n            setSuccessMessage(`${newName}'s number was altered sucessfully!`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data['Error'])\n            setTimeout(() => {\n             setErrorMessage(null)\n             }, 5000)\n          })\n      } \n      else{\n        return\n      }     \n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const getIdByName = (name) => {\n    const person_id = persons.filter(person => person.name === name)\n    return person_id[0].id\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const deleteUser = (id, name) => {\n    const result = \n      window.confirm(`Are you sure you wanna delete ${name}?`)\n      if(result === true){\n        personsService\n          .remove(id)\n          .then(response => {\n            console.log(response)\n          })\n        personsService\n          .getAll()\n          .then(persons => {setPersons(persons)})\n      }\n      else{\n        return\n      }\n  }\n\n  const personsToShow = newSearch === '' ? persons : persons.filter(\n    person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Success message={successMessage} />\n      <ErrorDisplay message={errorMessage} />\n      Search: <input value={newSearch} onChange={handleSearchChange} />\n      <br />\n      <h2>Add New Name</h2>\n      <AddItems newName={newName} handleNameChange={handleNameChange}\n       newNumber={newNumber} handleNumberChange ={handleNumberChange} addName={addName} />\n      <h2>Numbers</h2>\n      {personsToShow.map(person => \n        <Display key={person.name} name={person.name}\n          number={person.number} deleteHandler={() => deleteUser(person.id, person.name)}/>\n      )}\n    </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root'));\n"],"sourceRoot":""}